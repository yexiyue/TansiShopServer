import{g as V,d as L,r as A,aS as F,y as P,P as q,t as z,b as e,T as M,B as O,i as R,C as E,L as J,aT as W,as as j,I as G,aJ as H,aO as K,O as Q,aq as X,c as _,w as v,ar as $,F as f,ac as g,af as T,ab as N,aa as y,aU as Y,o as i,ad as x,u as Z,aV as ee,aW as te,_ as ae}from"./index-2f0a72f8.js";import{s as ne,a as oe}from"./function-call-dcdab3ee.js";const[le,c,re]=V("submit-bar"),ce={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:P("¥"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:P("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:q(2),safeAreaInsetBottom:z};var se=L({name:le,props:ce,emits:["submit"],setup(a,{emit:b,slots:o}){const t=A(),m=F(t,c),w=()=>{const{price:n,label:l,currency:s,textAlign:C,suffixLabel:h,decimalLength:r}=a;if(typeof n=="number"){const p=(n/100).toFixed(+r).split("."),B=r?`.${p[1]}`:"";return e("div",{class:c("text"),style:{textAlign:C}},[e("span",null,[l||re("label")]),e("span",{class:c("price")},[s,e("span",{class:c("price-integer")},[p[0]]),B]),h&&e("span",{class:c("suffix-label")},[h])])}},I=()=>{var n;const{tip:l,tipIcon:s}=a;if(o.tip||l)return e("div",{class:c("tip")},[s&&e(M,{class:c("tip-icon"),name:s},null),l&&e("span",{class:c("tip-text")},[l]),(n=o.tip)==null?void 0:n.call(o)])},S=()=>b("submit"),k=()=>o.button?o.button():e(O,{round:!0,type:a.buttonType,text:a.buttonText,class:c("button",a.buttonType),color:a.buttonColor,loading:a.loading,disabled:a.disabled,onClick:S},null),u=()=>{var n,l;return e("div",{ref:t,class:[c(),{"van-safe-area-bottom":a.safeAreaInsetBottom}]},[(n=o.top)==null?void 0:n.call(o),I(),e("div",{class:c("bar")},[(l=o.default)==null?void 0:l.call(o),w(),k()])])};return()=>a.placeholder?m(u):u()}});const ie=R(se);const D=a=>(ee("data-v-ad902d7b"),a=a(),te(),a),ue={class:"container"},de=D(()=>$("p",null,"厂家直销，质量保证",-1)),me=D(()=>$("p",{class:"add-weixin"},"加我微信，直接下单",-1)),pe=L({__name:"ClotheItemDetail",setup(a){const b=Y(),o=Z(),t=E({clothe:{}}),m=A(!1);J(async()=>{try{t.clothe=(await W(b.params.id)).data}catch(u){ne({type:"warning",message:u.toString()})}});const w=()=>{o.back()},I=u=>{const n=t.clothe.banners.map(l=>`${x}${l.imgUrl}`);oe({images:n,startPosition:u})},S=()=>{m.value=!0},k=()=>{o.push("/modify/"+t.clothe.id)};return(u,n)=>{const l=j,s=G,C=H,h=K,r=Q,p=ie,B=X;return i(),_("div",null,[e(l,{fixed:"",placeholder:"",title:"商品详情","left-text":"返回","left-arrow":"",onClickLeft:w}),e(h,{autoplay:3e3,"lazy-render":""},{default:v(()=>[(i(!0),_(f,null,N(t.clothe.banners,(d,U)=>(i(),y(C,{key:d},{default:v(()=>[e(s,{onClick:_e=>I(U),fit:"cover",width:"100%",height:"40rem",src:`${g(x)}${d.imgUrl}`},null,8,["onClick","src"])]),_:2},1024))),128))]),_:1}),$("div",ue,[e(r,{center:"",title:"名称：",value:t.clothe.name},null,8,["value"]),e(r,{center:"",title:"货号：",value:t.clothe.articleNo},null,8,["value"]),e(r,{center:"",title:"种类：",value:t.clothe.category},null,8,["value"]),e(r,{center:"",title:"面料：",value:t.clothe.fabric},null,8,["value"]),e(r,{center:"",title:"价格：",value:`${t.clothe.price}￥`},null,8,["value"]),t.clothe.frontImg?(i(),_(f,{key:0},[e(r,{title:"正面："}),e(s,{fit:"cover",height:"25rem",src:`${g(x)}${t.clothe.frontImg}`},null,8,["src"])],64)):T("",!0),t.clothe.backImg?(i(),_(f,{key:1},[e(r,{title:"背面："}),e(s,{fit:"cover",height:"25rem",src:`${g(x)}${t.clothe.backImg}`},null,8,["src"])],64)):T("",!0),(i(!0),_(f,null,N(t.clothe.colorCount,d=>(i(),y(r,{center:"",title:"颜色(数量)：",value:`${d.color}(至少${d.count}件)`},null,8,["value"]))),256)),e(r,{title:"上传时间：",value:new Date(t.clothe.createTime).toLocaleString("zh-cn")},null,8,["value"])]),g(b).query.admin?(i(),y(p,{key:0,placeholder:"",class:"submit-bar-class","button-type":"primary","button-text":"编辑",onSubmit:k})):(i(),y(p,{key:1,placeholder:"",class:"submit-bar-class","button-text":"进货",onSubmit:S},{default:v(()=>[de]),_:1})),e(B,{show:m.value,"onUpdate:show":n[0]||(n[0]=d=>m.value=d)},{default:v(()=>[me,e(s,{src:"/weixin.png"})]),_:1},8,["show"])])}}});const ve=ae(pe,[["__scopeId","data-v-ad902d7b"]]);export{ve as default};
