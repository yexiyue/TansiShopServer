import{g as $,q as E,aR as K,t as k,ax as M,y as q,aY as D,d as N,b as e,m as H,aB as R,aq as U,T as G,az as W,a0 as Y,M as Z,i as j,r as g,L as J,an as Q,as as X,B as ee,O as ae,c as T,w as c,o as B,F as te,ab as ne,aa as oe,f as C,ar as b,u as se,aZ as le,a_ as ce,a$ as ie,aV as re,aW as de,_ as ue}from"./index-2f0a72f8.js";import{F as pe}from"./index-a78db1ee.js";import{C as _e}from"./index-fc084c25.js";const[me,i]=$("action-sheet"),ve=E({},K,{title:String,round:k,actions:M(),closeIcon:q("cross"),closeable:k,cancelText:String,description:String,closeOnPopstate:k,closeOnClickAction:Boolean,safeAreaInsetBottom:k}),fe=[...D,"round","closeOnPopstate","safeAreaInsetBottom"];var ye=N({name:me,props:ve,emits:["select","cancel","update:show"],setup(t,{slots:s,emit:u}){const d=a=>u("update:show",a),l=()=>{d(!1),u("cancel")},p=()=>{if(t.title)return e("div",{class:i("header")},[t.title,t.closeable&&e(G,{name:t.closeIcon,class:[i("close"),W],onClick:l},null)])},_=()=>{if(s.cancel||t.cancelText)return[e("div",{class:i("gap")},null),e("button",{type:"button",class:i("cancel"),onClick:l},[s.cancel?s.cancel():t.cancelText])]},m=(a,f)=>a.loading?e(Y,{class:i("loading-icon")},null):s.action?s.action({action:a,index:f}):[e("span",{class:i("name")},[a.name]),a.subname&&e("div",{class:i("subname")},[a.subname])],S=(a,f)=>{const{color:x,loading:h,callback:w,disabled:r,className:n}=a,I=()=>{r||h||(w&&w(a),t.closeOnClickAction&&d(!1),Z(()=>u("select",a,f)))};return e("button",{type:"button",style:{color:x},class:[i("item",{loading:h,disabled:r}),n],onClick:I},[m(a,f)])},v=()=>{if(t.description||s.description){const a=s.description?s.description():t.description;return e("div",{class:i("description")},[a])}};return()=>e(U,H({class:i(),position:"bottom","onUpdate:show":d},R(t,fe)),{default:()=>{var a;return[p(),v(),e("div",{class:i("content")},[t.actions.map(S),(a=s.default)==null?void 0:a.call(s)]),_()]}})}});const Ce=j(ye);const P=t=>(re("data-v-d9b7bbe4"),t=t(),de(),t),be={class:"my-popup"},ge=P(()=>b("p",null,"修改分类",-1)),he={class:"content"},we=P(()=>b("p",null,"该操作将会删除对应的商品",-1)),ke={class:"my-popup"},Se=P(()=>b("p",null,"添加分类",-1)),xe=N({__name:"SetCategory",setup(t){const s=se(),u=g([]),d=g(!1),l=g(""),p=g(!1),_=g(!1);J(async()=>{await m()});const m=async()=>{const r=await Q();u.value=r.data},S=()=>{s.back()};let v;const a=r=>{v=r,p.value=!0},f=async()=>{await le(v,l.value),p.value=!1,l.value="",await m()},x=r=>{v=r,d.value=!0},h=async()=>{d.value=!1,await ce(v),await m()},w=async()=>{_.value=!1,await ie(l.value),l.value="",await m()};return(r,n)=>{const I=X,y=ee,z=ae,F=_e,A=pe,V=U,O=Ce;return B(),T("div",null,[e(I,{fixed:"",placeholder:"",title:"设置分类","left-text":"返回","left-arrow":"",onClickLeft:S}),e(F,{inset:""},{default:c(()=>[(B(!0),T(te,null,ne(u.value,o=>(B(),oe(z,{title:o.value},{default:c(()=>[e(y,{type:"primary",size:"mini",onClick:L=>a(o.id)},{default:c(()=>[C("修改")]),_:2},1032,["onClick"]),e(y,{type:"danger",size:"mini",onClick:L=>x(o.id)},{default:c(()=>[C("删除")]),_:2},1032,["onClick"])]),_:2},1032,["title"]))),256))]),_:1}),e(V,{show:p.value,"onUpdate:show":n[1]||(n[1]=o=>p.value=o)},{default:c(()=>[b("div",be,[ge,e(A,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=o=>l.value=o),label:"分类：",placeholder:"请输入分类"},null,8,["modelValue"]),e(y,{type:"success",size:"small",onClick:f},{default:c(()=>[C("完成")]),_:1})])]),_:1},8,["show"]),e(O,{show:d.value,"onUpdate:show":n[2]||(n[2]=o=>d.value=o),"cancel-text":"取消",title:"确定删除吗？"},{default:c(()=>[b("div",he,[we,e(y,{type:"danger",onClick:h},{default:c(()=>[C("确认删除")]),_:1})])]),_:1},8,["show"]),e(y,{class:"my-button",type:"primary",onClick:n[3]||(n[3]=o=>_.value=!0)},{default:c(()=>[C("添加分类")]),_:1}),e(V,{show:_.value,"onUpdate:show":n[5]||(n[5]=o=>_.value=o)},{default:c(()=>[b("div",ke,[Se,e(A,{modelValue:l.value,"onUpdate:modelValue":n[4]||(n[4]=o=>l.value=o),label:"分类：",placeholder:"请输入分类"},null,8,["modelValue"]),e(y,{type:"success",size:"small",onClick:w},{default:c(()=>[C("完成")]),_:1})])]),_:1},8,["show"])])}}});const Ae=ue(xe,[["__scopeId","data-v-d9b7bbe4"]]);export{Ae as default};
